<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pinterest</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://s.pinimg.com/webapp/favicon-22eb868c.png" rel="icon">
    <link rel="stylesheet" href="/stylesheets/profile.css">
    <script type="text/javascript" src="https://livejs.com/live.js"></script>
</head>

<body>
    <div id="overlay"></div>
    <div class="cardx">
        <div class="profile-picture">
            <img src="https://i.pinimg.com/280x280_RS/9c/49/23/9c492381552dda955a782ef05ecfe89b.jpg"
                alt="Profile Picture">
        </div>
        <h2 style="font-weight: 600;" class="name">
            <%= user.fullname%>
        </h2>
        <h3>
            <svg style="fill: #767676;" class="BNH gUZ U9O kVc" height="16" width="16" viewBox="0 0 24 24"
                aria-label="pinterest">
                <path
                    d="M0 12a12 12 0 0 0 8 11 12 12 0 0 1 0-3l1-6v-2c0-2 1-3 2-3l1 2-1 4 2 2c2 0 4-2 4-6 0-2-2-4-5-4a5 5 0 0 0-5 5l1 2v1l-1 1c-2 0-3-3-3-4 0-4 3-8 8-8 4 0 8 3 8 7s-3 8-7 8l-2-2-1 3a14 14 0 0 1-2 3 12 12 0 1 0-8-11" />
            </svg>
            <%= user.username %>
        </h3>
        <div id="buttons">
            <a id="uploadButton" onclick="togglePopup()" class="button">Upload</a>
            <a href="/logout" class="button">Logout</a>
        </div>
        <div id="uploadscreen">
            <form id="uploadform" action="/upload" method="post" enctype="multipart/form-data">
                <h1>Upload</h1>
                <input type="text" name="fileCaption" placeholder="Add Title">
                <input type="file" name="file">
                <input id="submitbutton" type="submit" value="Upload">
            </form>
        </div>
    </div>
    <div class="container">
        <div class="cards flex">
            <% user.posts.forEach(function(post) { %>
                <div class="card"  style="border: none; width: 18rem;">
                    <img style="border-radius: 4%;" src="/images/uploads/<%= post.image %>" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">
                            <%= post.imageText %>
                        </h5>
                    </div>
                </div>
                <% }) %>
        </div>
    </div>
    <script>
        document.getElementById("uploadButton").addEventListener("click", function () {
            var overlay = document.getElementById("overlay");
            overlay.style.display = "block"; // Show overlay
            var uploadscreen = document.getElementById("uploadscreen");
            uploadscreen.classList.toggle("show");
        });
        document.getElementById("submitbutton").addEventListener("click", function () {
            var overlay = document.getElementById("overlay");
            overlay.style.display = "none"; // Hide overlay
            var uploadscreen = document.getElementById("uploadscreen");
            uploadscreen.classList.toggle("show");
        });
    </script>

</body>

</html>